Version 4
SHEET 1 1724 1268
WIRE 16 -656 -416 -656
WIRE 144 -656 16 -656
WIRE 144 -592 144 -656
WIRE -64 -512 -176 -512
WIRE 48 -512 16 -512
WIRE 96 -512 48 -512
WIRE -176 -480 -176 -512
WIRE -416 -432 -416 -656
WIRE -176 -368 -176 -400
WIRE 96 -368 -176 -368
WIRE 144 -368 144 -496
WIRE 144 -368 96 -368
WIRE 144 -320 144 -368
WIRE 304 -320 144 -320
WIRE 592 -320 384 -320
WIRE 688 -320 592 -320
WIRE 752 -320 688 -320
WIRE 880 -320 752 -320
WIRE 592 -256 592 -320
WIRE 752 -256 752 -320
WIRE 144 -240 144 -320
WIRE 592 -128 592 -192
WIRE 672 -128 592 -128
WIRE 752 -128 752 -176
WIRE 752 -128 672 -128
WIRE -416 -112 -416 -352
WIRE 144 -112 144 -176
WIRE 672 -112 672 -128
WIRE -176 -64 -256 -64
WIRE 336 -64 144 -64
WIRE -256 -32 -256 -64
WIRE 144 -32 144 -64
WIRE 368 0 256 0
WIRE 480 0 448 0
WIRE 592 0 544 0
WIRE 592 32 592 0
WIRE 704 32 592 32
WIRE 880 32 880 -320
WIRE 880 32 784 32
WIRE 144 64 144 48
WIRE 336 64 336 -64
WIRE -256 80 -256 48
WIRE 592 80 592 32
WIRE 592 80 368 80
WIRE -176 96 -176 -64
WIRE 256 96 256 0
WIRE 256 96 -144 96
WIRE 304 96 256 96
WIRE -352 112 -384 112
WIRE -208 112 -352 112
WIRE 528 112 368 112
WIRE -64 128 -144 128
WIRE -64 160 -64 128
WIRE 528 160 528 112
WIRE 336 176 336 128
WIRE 528 272 528 240
WIRE -176 288 -176 128
WIRE -64 288 -64 240
FLAG -416 -112 0
FLAG 48 -512 gate
FLAG 672 -112 0
FLAG 688 -320 out
FLAG 144 -112 0
FLAG 16 -656 dc
FLAG 96 -368 source
FLAG -352 112 pwm
FLAG -256 80 0
FLAG -176 288 0
FLAG -64 288 0
FLAG 144 64 0
FLAG 336 176 0
FLAG 528 272 0
SYMBOL voltage -416 -448 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL nmos 96 -592 R0
SYMATTR InstName M1
SYMATTR Value IRFZ48N
SYMBOL res -80 -496 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rg
SYMATTR Value 10
SYMBOL schottky 160 -176 R180
WINDOW 0 88 53 Left 2
WINDOW 3 55 22 Left 2
SYMATTR InstName D1
SYMATTR Value MBR735
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 576 -256 R0
WINDOW 0 -57 7 Left 2
WINDOW 3 -60 42 Left 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=0.15
SYMBOL res 736 -272 R0
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL ind2 288 -304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 50µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=0.05
SYMBOL voltage -64 144 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -370 88 Left 2
WINDOW 0 -89 59 Left 2
SYMATTR Value PULSE(0 10 0 4.8u 0.2u 0 5u)
SYMATTR InstName Vsw
SYMBOL voltage 528 144 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 38 41 Left 2
WINDOW 3 48 70 Left 2
SYMATTR InstName Vref
SYMATTR Value 5
SYMBOL MyComparator -176 112 M0
WINDOW 0 13 26 Left 2
SYMATTR InstName U1
SYMBOL voltage -256 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL Misc\\Epoly -176 -496 R0
WINDOW 3 12 97 Left 2
SYMATTR Value value={V(pwm)}
SYMATTR InstName Edriver
SYMBOL OpAmps\\UniversalOpamp2 336 96 M0
WINDOW 123 -502 -1 Left 2
SYMATTR InstName U2
SYMBOL voltage 144 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 8
SYMBOL res 464 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 2.2k
SYMBOL cap 544 -16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res 800 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 2.2k
TEXT 232 -424 Left 2 !.tran 0 500u 0 0.1u uic
TEXT 464 -184 Left 2 ;ESR=0.15
TEXT 296 -272 Left 2 ;ESR=0.05
TEXT -24 264 Left 2 ;sawtooth 10 Vpp
